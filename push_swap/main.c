#include "push_swap.h"
/*#include "check_input_1d.c"
#include "delete_return_element.c"
#include "inputmorethanstr.c"
#include "length_stack.c"
#include "moves1.c"
#include "moves2.c"
#include "nodes.c"
#include "pop_then_push.c"
#include "rank.c"
#include "swap2top_elemenets.c"
#include "sorting_fundamenals.c"
#include "libft_functions1.c"
#include "libft_functions2.c"
#include "ft_split.c"*/

int are_inputs_correct(int ac, char **av, st_stack **head)
{
    if (ac == 2)
    {
    
        
        if (!is_input_correct(av[1]) || av[1][0] == 0)
            return (0);
        fill_stack(head, av + 1 , '1');
        return (1);
    }
    if (!is_input_correct1(av, ac - 1))
        return (0);
    fill_stack(head, av + 1 , '2');
    return (1);
}

void    fill_stack(st_stack **a, char **str, char c)
{
    char        **s_split;
    int         i;

    i = 0;
    if (c == '1')
        s_split = ft_split(str[0], ' ');
    else
        s_split = str;
    while (s_split[i])
    {
        add_node_back(a, new_node((int)ft_atoi(s_split[i])));
        i++;
    }
    if (c == '1')
        free_(s_split, rows(s_split));
}

int main(int ac, char **av)
{
    st_stack    *a = NULL;
    st_stack    *b = NULL;

    if (ac >= 2)
    {
        if (!are_inputs_correct(ac, av, &a))
        {
            write(2, "Error\n", 6);
            return (0);
        }
        turck_algo(&a, &b);
        free_stack(a);
    }
}
//ARG="489 194 119 54 346 492 481 179 322 237 297 411 293 33 125 320 331 398 270 278 258 314 296 407 198 380 23 182 485 326 300 216 97 155 255 351 440 342 217 254 500 184 374 113 339 289 68 268 491 109 66 410 38 181 310 183 365 323 478 49 395 52 121 150 180 172 312 87 441 103 131 95 86 367 378 416 170 154 35 240 332 235 215 287 353 446 128 39 482 111 463 302 462 473 50 390 136 261 4 328 132 83 477 175 77 152 143 393 294 169 191 214 464 62 274 26 9 472 163 456 24 421 67 115 91 11 465 375 280 167 431 110 434 129 422 336 201 402 417 347 196 319 229 257 483 345 435 253 262 81 234 76 275 40 315 213 75 309 117 490 14 19 29 58 45 151 423 424 137 313 34 63 165 428 480 486 425 138 120 303 247 114 53 321 496 354 127 239 84 277 133 80 368 355 251 404 334 273 442 218 174 493 304 439 408 202 93 243 388 311 160 210 292 130 104 471 383 168 149 112 338 476 219 333 349 92 269 467 156 1 475 118 36 487 145 224 230 135 141 51 105 220 99 187 330 140 25 226 305 3 21 318 57 306 79 22 389 298 379 42 46 438 356 401 444 157 449 27 60 250 399 232 458 101 122 221 205 335 64 369 437 189 436 20 282 6 55 72 432 295 474 281 236 246 90 340 43 139 361 41 499 484 285 199 430 248 418 370 12 107 2 158 161 419 495 259 460 10 426 222 457 307 207 469 227 470 288 134 263 162 420 412 245 98 203 348 124 148 396 144 466 359 371 225 400 454 65 44 185 233 403 0 200 414 59 73 82 453 317 193 171 433 242 360 479 291 409 405 316 264 70 31 392 178 15 186 56 7 384 100 13 231 391 223 190 387 88 209 30 344 357 397 142 61 116 197 271 299 415 406 208 358 394 286 451 164 279 195 381 71 352 106 108 283 341 497 47 37 452 329 337 85 494 16 153 382 244 461 459 301 177 447 260 366 455 166 192 362 290 102 276 123 325 373 159 18 350 176 238 206 429 228 28 265 94 363 78 17 343 385 376 48 308 267 173 32 146 89 327 212 450 241 377 8 272 445 74 188 256 448 372 249 252 488 69 266 126 204 364 443 468 211 324 427 147 5 386 96 413 284
//23 87 12 45 98 34 76 55 11 90 3 67 82 29 41 5 73 61 94 17 37 84 6 25 80 50 92 43 71 19 31 99 2 64 21 88 47 69 39 78 4 59 96 13 33 57 81 26 70 48 9 100 14 35 53 91 8 20 63 28 32 44 74 56 27 49 10 85 42 60 79 7 30 65 15 95 51 36 68 22 1 54 89 46 77 40 18 97 16 75 24 58 86 38 66 93 62 83 52 72"
//./push_swap 23 87 12 45 98 34 76 55 11 90 3 67 82 29 41 5 73 61 94 17 37 84 6 25 80 50 92 43 71 19 31 99 2 64 21 88 47 69 39 78 4 59 96 13 33 57 81 26 70 48 9 100 14 35 53 91 8 20 63 28 32 44 74 56 27 49 10 85 42 60 79 7 30 65 15 95 51 36 68 22 1 54 89 46 77 40 18 97 16 75 24 58 86 38 66 93 62 83 52 72